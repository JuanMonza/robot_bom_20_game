<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bomberman - Registro y Juego</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div id="login-screen">
        <img src="registro_jugador.png" alt="Registro de Jugador" style="max-width: 100%; height: auto; margin-bottom: 20px;">
        
        <div class="form-group">
            <label>Nombre</label>
            <input type="text" id="nombre" placeholder="Tu nombre">
        </div>
        
        <div class="form-group">
            <label>Apellido</label>
            <input type="text" id="apellido" placeholder="Tu apellido">
        </div>

        <div class="form-group">
            <label>Tel√©fono</label>
            <input type="tel" id="telefono" placeholder="Ej: +57 300 123...">
        </div>

        <div class="form-group">
            <label>Pa√≠s</label>
            <select id="pais">
                <option value="">Selecciona tu pa√≠s</option>
                <option value="CO">Colombia</option>
                <option value="MX">M√©xico</option>
                <option value="AR">Argentina</option>
                <option value="CL">Chile</option>
                <option value="PE">Per√∫</option>
                <option value="ES">Espa√±a</option>
                <option value="US">Estados Unidos</option>
                <option value="OTRO">Otro</option>
            </select>
        </div>

        <div class="form-group">
            <label>Fecha de Nacimiento</label>
            <input type="date" id="fecha-nacimiento">
        </div>

        <div class="form-group">
            <label>G√©nero</label>
            <select id="gender-select" required>
                <option value="">Selecciona tu g√©nero</option>
                <option value="female">Mujer</option>
                <option value="male">Hombre</option>
            </select>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="check-mayor">
            <label for="check-mayor">Declaro que soy mayor de edad</label>
        </div>

        <button class="btn-start" onclick="validarUsuario()">INGRESAR AL JUEGO</button>
        <p id="form-error" class="error-msg">Debes ser mayor de 18 a√±os para jugar.</p>
        
        <!-- Bot√≥n de acceso r√°pido para testing -->
        <button onclick="accesoDirecto()" style="margin-top: 10px; padding: 8px 20px; background: rgba(100, 100, 100, 0.5); color: #aaa; border: 1px solid rgba(255,255,255,0.2); border-radius: 5px; cursor: pointer; font-size: 0.85rem;">‚ö° Acceso R√°pido (Testing)</button>
    </div>

    <div id="game-wrapper">
        <h1>üí£ Bomberman Pro</h1>

        <div id="ui">
            <div class="stat-box">
                <span style="color:#aaa" id="player-name-display">Jugador</span>
            </div>
            <div class="stat-box">
                <span>Vidas: <b id="lives-txt">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</b></span>
            </div>
            <div class="stat-box">
                <span>Nivel: <b id="level-txt">1</b></span>
                <span>Enemigos: <b id="enemies-txt">0</b></span>
            </div>
            <div class="stat-box">
                <span>Tiempo: <b id="timer-txt">60</b>s</span>
            </div>
        </div>
        
        <div id="game-container">
            <canvas id="gameCanvas" width="640" height="440"></canvas>
            
            <div id="overlay" class="hidden">
                <h2 id="overlay-title">T√≠tulo</h2>
                <p id="overlay-msg">Mensaje</p>
                <button class="game-btn" id="overlay-btn">Bot√≥n</button>
            </div>
        </div>

        <!-- Controles para m√≥vil -->
        <div id="mobile-controls">
            <div class="controls-layout">
                <div class="joystick-container">
                    <div class="joystick-base">
                        <div class="joystick-stick" id="joystick"></div>
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="btn-bomb">üí£</button>
                </div>
            </div>
        </div>

        <p style="font-size: 0.9rem; color: #777; margin-top: 10px;">
            PC: Flechas para moverte | Espacio para bomba<br>
            M√≥vil: Usa los controles en pantalla
        </p>
    </div>

    <!-- Footer -->
    <footer style="background: rgba(0, 0, 0, 0.3); backdrop-filter: blur(10px); padding: 20px; text-align: center; margin-top: 30px; border-top: 1px solid rgba(255,255,255,0.1);">
        <p style="margin: 5px 0; font-size: 0.9rem; color: #aaa;">
            &copy; 2026 <strong style="color: #ffffff;">Jardines El Renacer</strong> - Todos los derechos reservados
        </p>
        <p style="margin: 5px 0; font-size: 0.85rem; color: #888;">
            Creado por <a href="https://github.com/juanmonza" target="_blank" rel="noopener noreferrer" style="color: #ffffff; text-decoration: none; font-weight: bold;">Juan Monza</a>
        </p>
        <p style="margin: 5px 0; font-size: 0.75rem; color: #666;">
            <a href="#" onclick="showTerms(); return false;" style="color: #888; text-decoration: none; margin: 0 8px;">T√©rminos y Condiciones</a> |
            <a href="#" onclick="showCookies(); return false;" style="color: #888; text-decoration: none; margin: 0 8px;">Pol√≠tica de Cookies</a> |
            <a href="#" onclick="showDataPolicy(); return false;" style="color: #888; text-decoration: none; margin: 0 8px;">Tratamiento de Datos</a>
        </p>
    </footer>

    <!-- Modal para T√©rminos y Condiciones -->
    <div id="terms-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; overflow-y: auto;">
        <div style="max-width: 800px; margin: 50px auto; background: rgba(20, 20, 30, 0.95); backdrop-filter: blur(10px); padding: 30px; border-radius: 15px; color: #fff;">
            <h2 style="color: #2196F3; margin-top: 0;">T√©rminos y Condiciones</h2>
            <div style="text-align: left; line-height: 1.6; color: #ccc;">
                <h3>1. Aceptaci√≥n de los T√©rminos</h3>
                <p>Al acceder y utilizar este juego, usted acepta estar sujeto a estos t√©rminos y condiciones.</p>
                
                <h3>2. Uso del Servicio</h3>
                <p>Este juego es proporcionado por Jardines El Renacer con fines de entretenimiento. Debe ser mayor de 18 a√±os para jugar.</p>
                
                <h3>3. Propiedad Intelectual</h3>
                <p>Todo el contenido, dise√±o y c√≥digo de este juego son propiedad de Jardines El Renacer y est√°n protegidos por las leyes de propiedad intelectual.</p>
                
                <h3>4. Privacidad</h3>
                <p>Los datos recopilados se utilizan √∫nicamente para el funcionamiento del juego y no se comparten con terceros.</p>
                
                <h3>5. Limitaci√≥n de Responsabilidad</h3>
                <p>Jardines El Renacer no se hace responsable de da√±os derivados del uso de este juego.</p>
                
                <h3>6. Modificaciones</h3>
                <p>Nos reservamos el derecho de modificar estos t√©rminos en cualquier momento.</p>
            </div>
            <button onclick="closeTerms()" style="margin-top: 20px; padding: 10px 30px; background: #2196F3; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem;">Cerrar</button>
        </div>
    </div>

    <!-- Modal para Pol√≠tica de Cookies -->
    <div id="cookies-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; overflow-y: auto;">
        <div style="max-width: 800px; margin: 50px auto; background: rgba(20, 20, 30, 0.95); backdrop-filter: blur(10px); padding: 30px; border-radius: 15px; color: #fff;">
            <h2 style="color: #2196F3; margin-top: 0;">Pol√≠tica de Cookies</h2>
            <div style="text-align: left; line-height: 1.6; color: #ccc;">
                <h3>1. ¬øQu√© son las cookies?</h3>
                <p>Las cookies son peque√±os archivos de texto que se almacenan en su dispositivo cuando utiliza nuestro juego.</p>
                
                <h3>2. ¬øC√≥mo usamos las cookies?</h3>
                <p>Utilizamos cookies para:</p>
                <ul>
                    <li>Guardar su progreso en el juego</li>
                    <li>Recordar sus preferencias</li>
                    <li>Mejorar la experiencia de usuario</li>
                </ul>
                
                <h3>3. Tipos de cookies que utilizamos</h3>
                <p><strong>Cookies esenciales:</strong> Necesarias para el funcionamiento b√°sico del juego.</p>
                <p><strong>Cookies de rendimiento:</strong> Nos ayudan a entender c√≥mo interact√∫a con el juego.</p>
                
                <h3>4. Control de cookies</h3>
                <p>Puede configurar su navegador para rechazar cookies, aunque esto puede afectar la funcionalidad del juego.</p>
                
                <h3>5. Actualizaciones</h3>
                <p>Esta pol√≠tica puede actualizarse peri√≥dicamente. La fecha de √∫ltima actualizaci√≥n: Enero 2026.</p>
            </div>
            <button onclick="closeCookies()" style="margin-top: 20px; padding: 10px 30px; background: #2196F3; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem;">Cerrar</button>
        </div>
    </div>

    <!-- Modal para Pol√≠tica de Tratamiento de Datos Personales -->
    <div id="data-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; overflow-y: auto;">
        <div style="max-width: 800px; margin: 50px auto; background: rgba(20, 20, 30, 0.95); backdrop-filter: blur(10px); padding: 30px; border-radius: 15px; color: #fff;">
            <h2 style="color: #2196F3; margin-top: 0;">Pol√≠tica de Tratamiento de Datos Personales</h2>
            <div style="text-align: left; line-height: 1.6; color: #ccc; font-size: 0.95rem;">
                <p><strong>Responsable del Tratamiento:</strong> Jardines El Renacer</p>
                <p style="margin-bottom: 20px;"><em>En cumplimiento de la Ley 1581 de 2012 y el Decreto 1377 de 2013 de la Rep√∫blica de Colombia</em></p>
                
                <h3>1. Identificaci√≥n del Responsable</h3>
                <p>Jardines El Renacer, en adelante "el Responsable", con domicilio en Colombia, es el responsable del tratamiento de los datos personales recolectados a trav√©s de este juego.</p>
                
                <h3>2. Datos Personales Recolectados</h3>
                <p>Los datos personales que recolectamos incluyen:</p>
                <ul>
                    <li>Nombre y apellido</li>
                    <li>N√∫mero de tel√©fono</li>
                    <li>Pa√≠s de residencia</li>
                    <li>Fecha de nacimiento</li>
                    <li>G√©nero</li>
                </ul>
                
                <h3>3. Finalidad del Tratamiento</h3>
                <p>Los datos personales ser√°n utilizados para:</p>
                <ul>
                    <li>Verificar que el usuario es mayor de edad</li>
                    <li>Personalizar la experiencia de juego</li>
                    <li>Mantener registro de jugadores</li>
                    <li>Enviar comunicaciones relacionadas con el servicio</li>
                    <li>Cumplir con obligaciones legales</li>
                </ul>
                
                <h3>4. Derechos del Titular</h3>
                <p>Como titular de los datos personales, usted tiene derecho a:</p>
                <ul>
                    <li><strong>Conocer, actualizar y rectificar</strong> sus datos personales</li>
                    <li><strong>Solicitar prueba</strong> de la autorizaci√≥n otorgada</li>
                    <li><strong>Ser informado</strong> sobre el uso dado a sus datos</li>
                    <li><strong>Presentar quejas</strong> ante la Superintendencia de Industria y Comercio</li>
                    <li><strong>Revocar la autorizaci√≥n</strong> y solicitar la supresi√≥n de datos cuando no existan obligaciones legales o contractuales</li>
                    <li><strong>Acceder gratuitamente</strong> a sus datos personales</li>
                </ul>
                
                <h3>5. Procedimiento para Ejercer sus Derechos</h3>
                <p>Para ejercer sus derechos, puede contactarnos a trav√©s de los medios oficiales de Jardines El Renacer. Su solicitud ser√° atendida en un plazo m√°ximo de 15 d√≠as h√°biles.</p>
                
                <h3>6. Medidas de Seguridad</h3>
                <p>Implementamos medidas t√©cnicas, humanas y administrativas necesarias para proteger sus datos personales y evitar su adulteraci√≥n, p√©rdida, consulta, uso o acceso no autorizado.</p>
                
                <h3>7. Transferencia de Datos</h3>
                <p>Sus datos personales no ser√°n transferidos a terceros sin su consentimiento previo, salvo en los casos permitidos por la ley.</p>
                
                <h3>8. Vigencia de la Base de Datos</h3>
                <p>La base de datos permanecer√° vigente durante el tiempo necesario para cumplir con las finalidades descritas. Los datos ser√°n eliminados cuando dejen de ser necesarios o pertinentes para dichas finalidades.</p>
                
                <h3>9. Autorizaci√≥n</h3>
                <p>Al marcar la casilla de autorizaci√≥n, usted declara:</p>
                <ul>
                    <li>Haber sido informado de forma clara y comprensible sobre el tratamiento de sus datos</li>
                    <li>Conocer sus derechos como titular</li>
                    <li>Autorizar de manera libre, previa, expresa e informada el tratamiento de sus datos personales</li>
                </ul>
                
                <h3>10. Actualizaci√≥n de la Pol√≠tica</h3>
                <p>Esta pol√≠tica podr√° ser actualizada para atender cambios normativos. Los cambios ser√°n comunicados oportunamente.</p>
                
                <p style="margin-top: 20px; font-size: 0.85rem; color: #999;">
                    <strong>Fecha de √∫ltima actualizaci√≥n:</strong> Enero 2026<br>
                    <strong>Ley aplicable:</strong> Ley 1581 de 2012 - R√©gimen General de Protecci√≥n de Datos Personales (Colombia)
                </p>
            </div>
            <button onclick="closeDataPolicy()" style="margin-top: 20px; padding: 10px 30px; background: #2196F3; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem;">Cerrar</button>
        </div>
    </div>

    <!-- Scripts separados -->
    <script src="validation.js"></script>
    <script src="game.js"></script>
</body>
</html>